
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sasha Laundy</title>
  <meta name="author" content="Sasha Laundy">

  
  <meta name="description" content="Ever have those days where you feel like you spent all day working, but you haven&#8217;t gotten anything done? But when you stop to take stock, you &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sursh.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Sasha Laundy" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47301004-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Sasha Laundy</a></h1>
  
    <h2>Leveling Up at Hacker School</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:sursh.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/25/gjournal-is-a-tiny-private-journal-in-your-gmail/">gJournal Is a Tiny Private Journal in Your gMail</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-25T01:40:00-04:00" pubdate data-updated="true">Oct 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ever have those days where you feel like you spent all day working, but you haven&#8217;t gotten anything done? But when you stop to take stock, you actually did get tons done.</p>

<p>I had one of those days today. I ended the day feeling frustrated because pip was throwing a tantrum while installing matplotlib, which it&#8217;s done loads of times before just fine, thank you very much. But when I got the friendly daily prompt from [Christina&#8217;s] [changeslogged], I perked up. Taking stock, I realized I <strong><em>paste in the stuff from today</em></strong></p>

<p>I&#8217;ve been getting these daily emails for quite some time and I&#8217;ve really come to love them. They provide a handy record on what I&#8217;ve done over time, they hold me accountable, and they remind me that I did in fact do good work today. Positive reinforcement is critical for building habits. I want to reward myself for good work so my lizard brain will want to do more of it.</p>

<p>I want to keep doing this but was always self-conscious that I was sending my daily tasks to Christina&#8217;s app, Mailgun, and Gmail. Would like to make the footprint smaller. How about just Gmail?</p>

<p>Whipped up a small script. Set it to run daily on Heroku and it will email you a prompt. And the reply-to header is set as your.email+journal@gmail.com. Set up an email filter for your emails to your.email+journal@gmail.com to skip your inbox and get the label journal, and you&#8217;ve got a great little journal archived in gmail. mailgun and heroku never see your info.</p>

<p>You can use it a few other ways too: a gratitude journal to make you happier, a workout or habit tracker, and I&#8217;m sure lots of other ways too.</p>

<p><a href="http://github.com/sursh/gjournal">Fork and customize this teeny tiny app on github</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/28/tracking-an-encoding-bug-through-many-applications-layers/">Tracking an Encoding Bug Through Many Applications Layers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-28T17:02:00-04:00" pubdate data-updated="true">Jul 28<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>AKA How to decode HTML entities in your djago app</p>

<p>so allison said systemat debugging is important at hacker school. [link to her blog post]. better than randomly changing things. fuzzy feeling, dig into it to understand underlying concepts. benefit: learn those concetps. ANd your instincts get better for new problems.</p>

<p>having this bug:
link to his blog post with chars
show screenshot—chars appear as html entities. wat?</p>

<p>a few layers:</p>

<p>wordpress feed -> feedparser -> feedergrabber (by dpb) -> crawlposts -> db -> django view -> browser rendering html.</p>

<p>could be a problem at any of those layers! what if my db isn&#8217;t using unicode?? etc.</p>

<p>i&#8217;ve heard of encoding but didn&#8217;t really understand it. heard of ascii and unicode and knew ascii is older and has a smaller charset, and that&#8217;s it. Read joel&#8217;s [extremely entertaining] blog post on encoding.</p>

<p>confirmed that encoding wsan&#8217;t the issue as we were&#8217;nt getting question marks, etc. also type(title) confirmed that the strings were unicode, as expected. had stuff that looked like HTML entities, which solve the problem of displaying the char &#8217;<a>&#8217; on a website instead of the browser interpreting that as a link.</p>

<p>but where in that chain are they getting HTML encoded into entities? I started at crawlposts and worked my way backwards. at each level, had HTML entities. even looked at how wordpress generates title,s [link to CDATA info].</p>

<p>so, wordpress is handing us htmlentities. tihs is acutally a really good idea, because it stops injection of malicious code. what if david had listened to the devil on his shoulder and titled his blog post &#8217;<script>somethingbad()</script>&#8217;?</p>

<p>so, wordpress is handing us htmlentities, which is actually a good idea. we need to handle them on our end. a little googling lead me to an undocumented method HTMLParser, which takes entities and puts them back into HTML.</p>

<p>but is that safe?? what abotu Evil David? Django is a step ahead of us. Jacob Kaplan-Moss, creater of django, spoke to us at hacker school and told us about the design decision to escape chars by default so you wouldn&#8217;t forget. [power of defaults]. to play with this, changed the title in the DB to <script>alert('thotuh')</script> but was foiled. Displayed as literals. you can see this in the [page source]. note: confused for a bit because the Inspect Element in chrome renders those escaped chars. so i went down a wrong path trying to figure out why HTML wasn&#8217;t rendering tags nested inside <a> elements. It does. Thanks, Obama.</p>

<p>So, long story short, I&#8217;m going to decode the HTML entities with HTMLParser and pass them into Django whose templating language will escape them properly.</p>

<p>[screenshot of successful result]</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/11/hacker-school-slash-s-blaggregator-now-has-comments-slash/">Blaggregator Now Has Comments!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-11T15:40:00-04:00" pubdate data-updated="true">Jun 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We were having some great conversations about fellow Hacker Schoolers&#8217; blog posts in Humbug, but that channel is too high-volume for most alums.</p>

<p>Enter: Comments! The Hacker School community can now privately discuss blog posts in a pretty interface with a high signal-to-noise ratio. <a href="http://blaggregator.herokuapp.com">Check it out</a> (Hacker School login required).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/30/how-to-get-the-most-out-of-hacker-school/">How to Get the Most Out of Hacker School</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-30T18:52:00-04:00" pubdate data-updated="true">May 30<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Monday is the first day of the summer batch of <a href="http://hackerschool.com">Hacker School</a>. You and about 70 other bright-eyed and bushy-tailed programmers will be starting twelve amazing weeks together.</p>

<p>In addition to the excellent advice that Dave and Nick will give you on day one, here are some ideas to help you get the most out of this awesome experience.</p>

<p><a href="https://medium.com/i-m-h-o/ab08782397f8/">Read the rest of the post on Medium&#8230;</a></p>

<!--
## Know what you want
You are in Hacker School because you love programming and want to get radically better, but what does that mean, exactly? What skills do you want to leave with? Do you want to go in depth on the fundamentals? Learn a new class of languages? Get comfortable writing bigger apps?

If you don’t have this figured out on day one, that’s OK, but move aggressively to figure it out so you know what projects to pick. Ask other people what they’re working on. Talk to a facilitator. No one will hand you a roadmap here, but they will help you write your own if you ask.

## Maximize your learning per hour
Hacker School is this weird wonderful oasis in your life trajectory where you have no deliverables and no responsibilities to ship code for someone else. Your top priority is becoming a better programmer, so make decisions that maximize your learning per hour (LPH).

Pick projects you have no idea how to do. Investigate non-critical but interesting bugs. Get enough sleep, install Self Control, or do whatever you need to do to sit down and just start coding. Twelve weeks is short. Use each day wisely.

## See the forest for the trees
There’s so much happening every day at Hacker School that it is easy to get caught up in a project that drags on for too long. When your LPH gets low, wrap up the project. It doesn’t have to be done for you to be done with it.

Three months is really short, but that word “months” is just heavy enough that you feel like you have all the time in the world, so it’s easy to take your time and move slowly. Set up smaller milestones—every two weeks worked nicely for me—and check in. Are you where you wanted to be after two weeks? Keep your eye on the big picture.

## People are amazing resources
A wonderful thing about Hacker School is the diversity. And I don’t just mean 35% women, 25% people of color, and 15% international folks, even though those numbers are astounding in the technical community.

Hacker School brings together people who are all at a crossroads in their life. You are united by loving programming and wanting to get better at it, but other than that everyone is all over the map. Some have been programming professionally for years. Some have been working in international espionage. Some love kiteboarding. Some have startup experience, others have worked at big companies. Find out what the people around you know and ask them lots and lots of questions.

That goes for the residents too. Google them before they arrive to get some good question ideas. When they arrive, they’ll be eager to pair and talk about code, but also happy to share the story of their life’s work.

Don’t just limit this to Hacker School. Talk actively to the programmers in your life about what you’re working on. They’ll have an interesting perspective. No programmers in your life yet? Go to meetups in NYC and say hi. If you meet someone you like, get their info and keep in touch with them.

## All feedback all the time
Get all your code reviewed. Ask for feedback on your presentations. Check that you chose a good project before you get started. Ask for suggestions from the people you pair with. You won’t get this unless you ask for it, and if you ask you will get better so, so much faster.

If you don’t come away from the conversation with something concrete to change or try differently next time, invite them to be brutally honest. They may be holding back to spare your feelings! We, as a society, suck at teaching people to give negative feedback in a supportive way and it makes a lot of people nervous.

Above all: have fun, learn lots, and never graduate.

-->

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/01/autocomplete-in-git/">Git + Autocomplete = Bliss</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-01T18:39:00-04:00" pubdate data-updated="true">Apr 1<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Did you know that you can turn on autocomplete for git?</strong> A quick survey of other Hacker Schoolers turned up that most Linux distros come with this built in, but most Mac users didn&#8217;t have it installed.</p>

<p><img src="http://i2.kym-cdn.com/entries/icons/original/000/000/248/underpants.jpg" title="Underpants Gnomes Business Plan" ></p>

<ol>
<li>Streamline your tools</li>
<li>Save time</li>
<li>Profit!</li>
</ol>


<p>It&#8217;s super easy. Put <a href="https://github.com/git/git/blob/master/contrib/completion/git-completion.bash">git&#8217;s autocomplete script</a> in your home directory. Then add it to your .bashrc by running <code>source ~/.git-completion.bash</code>.</p>

<p>There&#8217;s more detail <a href="http://git-scm.com/book/en/Git-Basics-Tips-and-Tricks">here</a>, along with aliases, which are a MUST. I added <code>git unstage FILENAME</code> which I find much more intuitive than <code>git reset HEAD -- FILENAME</code>. Hooray!</p>

<p>Part of my morning routine here at <a href="http://hackerschool.com">Hacker School</a> is learning a few new things about Python, bash, and git, since in the long run, <strong>knowing these tools like the back of my hand saves tons of time</strong>.</p>

<p>Let me know on <a href="http://twitter.com/sashalaundy">Twitter</a>/Humbug if you want to hear more about this routine.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/26/demo-code-review/">Demo Code Review</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-26T17:35:00-04:00" pubdate data-updated="true">Mar 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A big part of life at <a href="http://hackerschool.com">Hacker School</a> is code reviews. Sometimes facilitators review code but for the most part, it&#8217;s our super talented peers.</p>

<p><strong>Getting reviewed is really valuable to accelerate learning.</strong> It points unclear parts of your code, and blind spots you didn&#8217;t know you had. In some of my projects I&#8217;ve implemented things in a brute-force way, and my reviewers have pointed me to data structures or libraries I hadn&#8217;t yet discovered that allowed me to cut out lots of code.</p>

<p><img class="left" src="http://f.cl.ly/items/2V2t1y39271F1b3k0B3D/2013_03_25_codereview.JPG" title="Code review session" alt="A picture of our code review session."></p>

<p>Today Allison (a facilitator) offered a demo code review, so we could see how she thinks about a code review. We went over a Lisp implemented in Python written by <a href="https://twitter.com/nycgwailou">Nick</a>.</p>

<p>The crowd watching was pretty diverse, so everyone took something different away. Some learned about Python, some about the Git workflow, and some about Lisps.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/25/on-rakefiles-and-rabbit-holes/">On Rakefiles and Rabbit Holes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-25T15:34:00-04:00" pubdate data-updated="true">Mar 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>TL;DR.</strong> I noticed a bug in Octopress. In fixing it, I found a separate, truly spectacular error, and learned a lot of interesting things about bash. I would never have learned so much outside of Hacker School, since it gives me the time and space to open up the box.</p>

<h2>The original bug.</h2>

<p>Octopress&#8217; <code>rake preview</code> lets you preview your post in the browser before deploying. It spawns Rack to serve local requests and Guard to watch for file changes. Guard in turn spawns Fsevent to do the actual watching.</p>

<figure class='code'><figcaption><span>Handy pstree is handy.</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>pstree
</span><span class='line'>...
</span><span class='line'> | | <span class="se">\-</span>+<span class="o">=</span> 31340 root login -pf sasha
</span><span class='line'> | |   <span class="se">\-</span>+<span class="o">=</span> 31341 sasha -bash
</span><span class='line'> | |     <span class="se">\-</span>+<span class="o">=</span> 31430 sasha ruby /.../ruby-1.9.3-p374/bin/rake
</span><span class='line'> | |       |-+- 31433 sasha ruby /.../ruby-1.9.3-p374/bin/gua
</span><span class='line'> | |       | <span class="se">\-</span>-<span class="o">=</span> 31443 sasha /.../ruby-1.9.3-p374/gems/rb-fs
</span><span class='line'> | |       <span class="se">\-</span>-- 31434 sasha <span class="o">(</span>ruby<span class="o">)</span>
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>But when you <code>crtl-C</code>, Fsevent stays running in the background until you <code>kill</code> it or modify a file in the watched dir. This throws a <code>TCPServer Error</code> if you try to run <code>rake preview</code> a second time. Sad pandas.</p>

<p>Initially I had no idea what was going on here. I&#8217;ve dabbled in Ruby but not modified a Rakefile before. I learned <code>ps</code> and <code>kill</code> ten years ago, but didn&#8217;t know much about what was going on under the hood. Ripe conditions for learning a ton.</p>

<p><strong>This is what I love about Hacker School</strong>. I have the time and space to go down these rabbit holes. At a startup, priority goes to shipping code. <strong>Here, shipping code is the means, not the end.</strong></p>

<p>In the end, the actual bug was pretty small: when you interrupt <code>rake</code>, it passes <code>kill 9</code> to guard. Guard ends itself but doesn&#8217;t properly terminate its child process fsevent`.</p>

<figure class='code'><figcaption><span>Rake preview catching interrupts</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="nb">trap</span><span class="p">(</span><span class="s2">&quot;INT&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="o">[</span><span class="n">guardPid</span><span class="p">,</span> <span class="n">rackupPid</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">pid</span><span class="o">|</span> <span class="no">Process</span><span class="o">.</span><span class="n">kill</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span> <span class="k">rescue</span> <span class="ss">Errno</span><span class="p">:</span><span class="ss">:ESRCH</span> <span class="p">}</span>
</span><span class='line'>    <span class="nb">exit</span> <span class="mi">0</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This can be duct-taped together by sending <code>3</code> (QUIT) instead of <code>9</code> (KILL) to Guard, but we&#8217;re asking the Guard team if this is a known issue. But it gets better!</p>

<h2>Curiouser and curiouser</h2>

<p>Things got <em>really</em> weird when I was playing around with the different exit codes. The Ruby documentation says that if you pass <code>kill</code> a negative argument, it will kill the entire group of processes, not just the child process. Promising!</p>

<p>However, it broke very spectacularly. If you want to follow along, grab the development branch of Octopress, currently 2.1:</p>

<pre><code>$ git clone -b 2.1 https://github.com/imathis/octopress.git
</code></pre>

<p>Find the <code>preview</code> task and change the message it passes on interrupt from 9 to -3:</p>

<figure class='code'><figcaption><span>Line 161 as of this writing</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="nb">trap</span><span class="p">(</span><span class="s2">&quot;INT&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="o">[</span><span class="n">guardPid</span><span class="p">,</span> <span class="n">rackupPid</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">pid</span><span class="o">|</span> <span class="no">Process</span><span class="o">.</span><span class="n">kill</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span> <span class="k">rescue</span> <span class="ss">Errno</span><span class="p">:</span><span class="ss">:ESRCH</span> <span class="p">}</span>
</span><span class='line'>    <span class="nb">exit</span> <span class="mi">0</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then run <code>rake preview</code> (you will have to run <code>rake install</code> the first time). Wait until you see Guard&#8217;s prompt (powered by Pry):</p>

<pre><code>16:10:05 - INFO - Guard is now watching at '/Users/sasha/code/octopress'
[1] guard(main)&gt; 
</code></pre>

<p>Then Control-C. You will see some lines of error output, and then BOTH guard and bash&#8217;s prompt, instead of one or the other. Wat!</p>

<pre><code>[2] guard(main)&gt; SASHAs-MacBook-Air-2:octopress sasha$ 
</code></pre>

<p>Weird! Press any key that sends input. PRY EXPLODES. Press enter and you get a bash prompt back, but now you can&#8217;t see anything you type. It&#8217;s still getting to bash (try <code>ls &lt;enter&gt;</code>) but some things, like control-L, no longer work.</p>

<p>Lolwut?</p>

<h2>Down the rabbit hole</h2>

<p>So I started reading about <a href="http://www.linusakesson.net/programming/tty/">TTY</a> and <a href="http://en.wikipedia.org/wiki/Unix_signal">POSIX signals</a> and using <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?stty">stty</a>. Interesting stuff, particularly the history of our terminal evolving from ticker tape outputs.</p>

<p>You can also change all sorts of wacky things about your terminal with <code>stty</code>. Try <code>stty -echo</code> (<code>stty echo</code> to undo it). This explains why I wasn&#8217;t able to see my own typing after the Pry explosion - when control was reluctantly handed back to bash, the flags on my terminal weren&#8217;t properly reset, including the flag to use raw (non-canonical) input processing, which is why it won&#8217;t process things like <code>control-l</code> until you hit enter.</p>

<p>I didn&#8217;t find all the answers in my reading, but I&#8217;m asking <em>significantly</em> better questions:</p>

<ul>
<li><p>How groups are being used is unclear. I expected the process group to inherit its gid from the parent process and to be killed cleanly by passing a negative argument to <code>kill</code>, but that didn&#8217;t work. Passing <code>-3</code> kills Rack but only mortally wounds Guard.</p></li>
<li><p>One remaining mystery: why is the bash prompt printed to the terminal after the Guard prompt when Guard is still running? Maybe control is passed from Guard to bash and then back to Guard?</p></li>
<li><p>It seems that Pry is getting something unexpected from its stdin, which triggers its explosion, which may or may not be coming from bash. But how to intercept it?</p></li>
<li><p>The Readlines library defines some bash shortcuts, like mapping <code>ctrl-l</code> to <code>clear</code>, but lets you override them with an .inputrc. So you can do awesome things to your prompt like adjusts how <code>ctrl-w</code> works. There are also vim and emacs modes for bash.</p></li>
</ul>


<p><strong>Stuff I learned:</strong> a little Ruby, Rakefiles, POSIX signals, the history of TTY, more about stdin, stdout, and stderr, stty, working with pids, gids, and the Process module in Ruby. And my first accepted (albeit one-character) pull request of Hacker School, which is certainly the highest learning-to-LOC ratio I can think of.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/11/turbocharging-octopress/">Turbocharging Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-11T19:05:00-04:00" pubdate data-updated="true">Mar 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This blog is powered by <a href="http://octopress.org/">Octopress</a>, which is basically a set of <code>rake</code> tasks, themes, and other add-ons generate a blog from Markdown posts. It&#8217;s in turn powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>.</p>

<p>The documentation is generally pretty good, but they didn&#8217;t really explain one fundamental thing. It&#8217;s pretty simple once you dig into the <code>Rakefile</code>, but here&#8217;s a quick explanation if you just want to get up and running.</p>

<h3>WTF is going on with the branches?</h3>

<p>On github, you will have two branches: <code>source</code> and <code>master</code>. But locally:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git br
</span><span class='line'>* source</span></code></pre></td></tr></table></div></figure>


<p>Huh. Interesting. Locally, you <em>only</em> have one branch: <code>source</code>.  Wat?</p>

<p>Basically, <code>source</code> holds your posts in Markdown and other files <em>before</em> they are transmogrified into HTML. Once you run <code>rake generate</code>, Octopress will generate all the HTML &amp; CSS and put it all in <code>/public</code>.</p>

<p>And when you run <code>rake deploy</code>, Octopress pushes the contents of <code>/public</code> (on <em>local</em> branch <code>source</code>) to the home directory (on <em>remote</em> branch <code>master</code>).</p>

<p>So: each time you finish a post, run BOTH <code>rake deploy</code> to deploy and <code>git push origin source</code> to back up your source files to github.</p>

<h3>Sublime Text &lt;3 Markdown</h3>

<p>So you&#8217;re writing your blog posts in Markdown like a boss. There are a few things you can do to make Sublime Text 2 a lean, mean blogging machine:</p>

<p><strong>Custom themes</strong>. For example, <a href="http://brettterpstra.com/2012/05/17/markdown-editing-for-sublime-text-2-humble-beginnings/">MarkdownEditing</a>, a series of custom themes and shortcuts for Markdown. (Hint: installing Package Control first will make this easier)</p>

<p><strong>Spell check.</strong>
Sublime Text 2 uses <a href="http://www.sublimetext.com/docs/2/spell_checking.html">Hunspell</a> for spell checking, the same library used in Word. This process was a bit more convoluted:</p>

<ol>
<li>Command-shift-p in ST2 to open Package Control</li>
<li>Choose &#8220;Add Repo&#8221;. Paste in <code>http://www.sublimetext.com/docs/2/spell_checking.html</code></li>
<li>Command-shift-p again. Choose &#8220;Install Package,&#8221; then &#8220;Dictionaries&#8221;</li>
<li>Find your preferences in Preferences > Package Settings > Markdown Editing > Markdown Settings - User</li>
<li>Add the following to the settings file:

<pre><code> "spell_check": true,
 "dictionary": "Packages/Language - English/en_US.dic"
</code></pre></li>
<li>Restart Sublime Text. Observe red squigglies when you edit Markdown.</li>
<li>Profit</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/07/crashing-heroku-or-when-memory-management-in-python-really-matters/">Crashing Heroku (or When Memory Management in Python Really Matters)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-07T18:24:00-05:00" pubdate data-updated="true">Mar 7<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/maxlikely">David</a> and I paired this week to build a <a href="http://www.codinghorror.com/blog/2008/06/markov-and-you.html">Markov chain generator</a>. It analyzes 15MB of old Hacker News headlines and generates completely new headlines that really sound like they came from HN. You can <a href="https://twitter.com/HackerNewsOrNot">follow the Twitter bot</a> or <a href="https://github.com/sursh/markov-hacker-news">check out the code</a>.</p>

<p><a href="http://blog.sashalaundy.com/blog/2013/03/05/help-us-plug-our-memory-leaks/">Last time</a>, we asked your advice on how to handle all possible trigrams in 15 MB of seed text - a task that took up about 1 GB of memory in our first implementation, rapidly blasting through Heroku&#8217;s limit of 512 MB. The culprit? <strong>Dictionaries.</strong></p>

<p>Our initial data structure was a dict of dicts. The key was a <em>bigram</em>, or word pair, and the value was a dict of all of the words that followed that bigram in the training text and the number of times they occured. Wat? Here&#8217;s an example:</p>

<figure class='code'><figcaption><span>Our initial data structure</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="p">(</span><span class="s">&#39;how&#39;</span><span class="p">,</span> <span class="s">&#39;to&#39;</span><span class="p">):</span> <span class="p">{</span> <span class="s">&#39;do&#39;</span><span class="p">:</span> <span class="mi">529</span><span class="p">,</span>
</span><span class='line'>                   <span class="s">&#39;grow&#39;</span><span class="p">:</span> <span class="mi">202</span><span class="p">,</span>
</span><span class='line'>                   <span class="s">&#39;know&#39;</span><span class="p">:</span> <span class="mi">134</span><span class="p">,</span>
</span><span class='line'>                   <span class="o">.....</span>
</span><span class='line'>                 <span class="p">},</span>
</span><span class='line'>  <span class="p">(</span><span class="s">&#39;to&#39;</span><span class="p">,</span> <span class="s">&#39;do&#39;</span><span class="p">):</span> <span class="p">{</span> <span class="s">&#39;the&#39;</span><span class="p">:</span> <span class="mi">1245</span><span class="p">,</span>
</span><span class='line'>                  <span class="s">&#39;everything&#39;</span><span class="p">:</span> <span class="mi">149</span><span class="p">,</span>
</span><span class='line'>                  <span class="o">.....</span>
</span><span class='line'>                <span class="p">},</span>
</span><span class='line'>  <span class="o">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>With 15 MB of training text and so much redundancy, this can get out of hand quickly! Every word appears <em>at least</em> 3 times in the matrix, and some appear thousands of times.</p>

<h3>Possible solutions:</h3>

<ul>
<li><strong>Generators.</strong> for iterating over the headlines. This helped a lot - got us from 1.3 G down to about 850 MB.</li>
<li><strong>Compression.</strong> Tossing out common values, like <code>1</code> for the count of the long tail of words.</li>
<li><strong>Creative use of data types.</strong> E.G. storing words as <code>int</code>s instead of <code>string</code>s.</li>
<li><strong>Lists.</strong> They take up less memory than dicts. One variation that we tried (and is in <a href="https://github.com/sursh/markov-hacker-news/blob/e584ef95ade08f03a482debfc0c0f47adde67af3/trigrams.py">this version of our code</a>) is creating two dicts of lists rather than one dict of dicts.</li>
<li><strong>Trade memory for speed.</strong> Darius, a Hacker School alum, pointed us to <a href="http://stackoverflow.com/questions/327223/memory-efficient-alternatives-to-python-dictionaries/327295#327295">his Stack Overflow answer</a>, where he laid out a few other approaches that mainly trade memory usage for speed. Also, David dug up some recent papers that focus entirely on this problem. Researchers are currently doing some very clever algorithms to get the most out of their data structures.</li>
</ul>


<h3>So where did we leave it?</h3>

<p>Darius&#8217; suggestions and the approaches in the literature will certainly help reduce memory usage. We wanted to maximize learning per unit of time at Hacker School and didn&#8217;t think implementing these approaches teach us proportionally more than reading about them. We shipped it by deploying on a machine with more memory. Follow the Twitter bot <a href="https://twitter.com/HackerNewsOrNot">here</a>!</p>

<h4>Stuff I learned along the way:</h4>

<p> Generators, classes and methods in python, pickle, regex, defaultdict, Tweepy, Buffer&#8217;s API, how bad the built in titlecase methods are in Python, some clever way to handle default arguments, some fundamental principles of NLP.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/05/help-us-plug-our-memory-leaks/">Help Us Plug Our Memory Leaks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-05T00:08:00-05:00" pubdate data-updated="true">Mar 5<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>David and I are running our app on Heroku, but it uses too much memory to run! <strong>Got any clever optimization suggestions?</strong></p>

<p>We&#8217;re building a Markov chain generator that is trained on a corpus of 15MB of old Hacker News headlines. The app currently indexes the training corpus and constructs a matrix of all the possibilities, then queries that matrix to generate a hopefully entertaining new headline. Preview it <a href="http://twitter.com/HackerNewsOrNot">here</a>.</p>

<p><strong>However, as we first wrote it, it used 1+ GB of memory when we deployed to Heroku, where the limit is 512 MB!</strong> We wrangled it down to 570 MB today and will tackle it again tomorrow morning, but need more ideas.</p>

<p>Some things we&#8217;ve tried:</p>

<ul>
<li>Pickling the matrix. Not pickling the matrix. (didn&#8217;t help)</li>
<li>Storing the words as <code>int</code>s in our matrix rather than <code>string</code>s (helped)</li>
<li>Tweaked the data structure (helped, could probably do more with this)</li>
<li>We ran out of time, but want to try some sort of data store. Redis?</li>
</ul>


<p><strong>What should we try next?</strong> Our code after the jump:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/03/05/help-us-plug-our-memory-leaks/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/10/25/gjournal-is-a-tiny-private-journal-in-your-gmail/">gJournal is a tiny private journal in your gMail</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/28/tracking-an-encoding-bug-through-many-applications-layers/">Tracking an encoding bug through many applications layers</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/11/hacker-school-slash-s-blaggregator-now-has-comments-slash/">Blaggregator now has comments!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/30/how-to-get-the-most-out-of-hacker-school/">How to Get the Most out of Hacker School</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/01/autocomplete-in-git/">Git + Autocomplete = Bliss</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sursh">@sursh</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sursh',
            count: ,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("sashalaundy", 3, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/sashalaundy" class="twitter-follow-button" data-show-count="true">Follow @sashalaundy</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Sasha Laundy -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
